#N canvas 659 22 977 908 10;
#N canvas 0 22 450 300 (subpatch) 0;
#X array arrayHL 128 float 0;
#X coords 0 1 127 -1 200 140 1;
#X restore 480 703 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array arrayHR 128 float 0;
#X coords 0 1 127 -1 200 140 1;
#X restore 719 703 graph;
#X obj 51 91 soundfiler;
#X obj 51 16 bng 15 250 50 0 empty empty (1) 17 7 0 10 -260097 -1 -260097
;
#X floatatom 51 120 10 0 0 0 - - -;
#X obj 53 350 soundfiler;
#X obj 53 284 bng 15 250 50 0 empty empty (2) 17 7 0 10 -260097 -1
-260097;
#N canvas 0 22 450 300 (subpatch) 0;
#X array arrayHRTF 2.5215e+07 float 2;
#X coords 0 1 2.5215e+07 -1 200 140 1;
#X restore 144 105 graph;
#N canvas 0 22 450 300 (subpatch) 0;
#X array arraySrc 4.47023e+06 float 2;
#X coords 0 1 4.47023e+06 -1 200 140 1;
#X restore 143 360 graph;
#X floatatom 53 379 10 0 0 0 - - -;
#X obj 45 808 hip~ 5;
#X obj 78 608 tabplay~ arraySrc;
#X obj 85 853 dac~ 1 2;
#X obj 45 771 FIR~ arrayHL 128;
#X obj 168 771 FIR~ arrayHR 128;
#X obj 40 554 bng 15 250 50 0 empty empty (4) 17 7 0 10 -260097 -1
-260097;
#X text 124 531 (4) Start audio and apply HRTF;
#X obj 78 554 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 168 808 hip~ 5;
#X text 93 807 DC removal;
#X obj 799 140 int;
#X floatatom 847 321 5 0 0 0 - - -;
#X obj 799 167 - 3;
#X obj 808 260 +;
#X floatatom 912 184 5 0 0 0 - - -;
#X obj 808 288 +;
#X obj 647 91 + 90;
#X obj 666 268 / 10;
#X obj 666 296 int;
#X obj 788 312 * 72;
#X obj 788 340 * 19;
#X floatatom 788 420 5 0 0 0 - - -;
#X floatatom 666 362 5 0 0 0 - - -;
#X obj 720 388 +;
#X obj 633 435 +;
#X floatatom 695 460 5 0 0 0 - - -;
#X obj 633 474 * 1024;
#X floatatom 692 497 10 0 0 0 - - -;
#X obj 697 551 + 512;
#X obj 666 324 * 72;
#X obj 633 505 + 96;
#X floatatom 799 38 5 0 3500 0 - - -;
#X floatatom 647 38 5 -90 90 0 - - -;
#X floatatom 486 38 5 0 0 0 - - -;
#X text 588 37 Elevation;
#X text 745 37 Distance;
#X text 739 550 Right Ch. Pointer;
#X text 539 550 Left Ch. Pointer;
#X obj 633 411 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 519 37 deg;
#X text 679 37 deg;
#X text 435 37 asymuth;
#X floatatom 709 324 5 0 0 0 - - -;
#X floatatom 719 223 5 0 0 0 - - -;
#X obj 666 193 +;
#X obj 587 122 expr $i1 \; if($i1 >= 0 \, $i1 \, 0) \; if($i1 <= 180
\, 0 \, 180-$i1) \;;
#X text 832 37 cm;
#X obj 799 113 / 5;
#X obj 765 194 expr $i1 \; if($i1 < 0 \, -$i1 \, 0) \; if($i1 > 17
\, 17 \, 0) \; if($i1 <= 17 \, $i1 \, 0) \;;
#X obj 720 360 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 849 124 s dist_m;
#X obj 849 86 / 100;
#X obj 486 129 mod 360;
#X obj 486 161 / 5;
#X floatatom 469 245 5 0 0 0 - - -;
#X obj 486 194 expr 71-$i1;
#X obj 486 92 - 3.5;
#X text 558 266 HRTF every 10 deg;
#X text 383 160 HRTF every 5 deg;
#X text 827 165 min dist: 15cm;
#X text 579 232 Rounding coef;
#X text 401 92 Rounding coef;
#X obj 666 232 + 5;
#X obj 799 85 + 2.5;
#X text 713 84 Rounding coef;
#X obj 659 66 bng 15 250 50 0 empty empty (3) 17 7 0 10 -260097 -1
-260097;
#X obj 521 634 arraycopy arrayHL;
#X obj 697 634 arraycopy arrayHR;
#X msg 521 606 copy arrayHRTF \$1 +128;
#X msg 697 606 copy arrayHRTF \$1 +128;
#X obj 40 606 tgl 15 0 empty empty empty 17 7 0 10 -4034 -1 -1 0 1
;
#X obj 40 631 dsp;
#X msg 40 579 1;
#X msg 78 579 stop;
#X text 35 531 start;
#X text 78 531 stop;
#X text 471 12 (3) Set desired spherical coordinates and copy related
HRIR;
#X msg 51 49 read -raw 16 1 4 l -maxsize 2.53e+07 hrtf_Otani_BEM_variousDIST_allSP.dat
arrayHRTF;
#X msg 53 321 read -maxsize 4.48e+07 Shelly_Voc_Lead_1_01.wav arraySrc
;
#X text 98 14 Load HRIRs to Array;
#X text 101 283 Load audio file to Array;
#X connect 2 0 4 0;
#X connect 3 0 87 0;
#X connect 5 0 9 0;
#X connect 6 0 88 0;
#X connect 10 0 12 0;
#X connect 11 0 13 0;
#X connect 11 0 14 0;
#X connect 13 0 10 0;
#X connect 14 0 18 0;
#X connect 15 0 82 0;
#X connect 17 0 83 0;
#X connect 18 0 12 1;
#X connect 20 0 22 0;
#X connect 22 0 24 0;
#X connect 22 0 58 0;
#X connect 23 0 25 0;
#X connect 25 0 29 0;
#X connect 25 0 21 0;
#X connect 26 0 55 0;
#X connect 27 0 28 0;
#X connect 28 0 39 0;
#X connect 28 0 52 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 30 0 33 1;
#X connect 30 0 59 0;
#X connect 33 0 34 1;
#X connect 33 0 48 0;
#X connect 34 0 35 0;
#X connect 34 0 36 0;
#X connect 36 0 37 0;
#X connect 36 0 40 0;
#X connect 38 0 79 0;
#X connect 39 0 32 0;
#X connect 39 0 33 0;
#X connect 40 0 38 0;
#X connect 40 0 78 0;
#X connect 41 0 61 0;
#X connect 41 0 73 0;
#X connect 41 0 75 0;
#X connect 42 0 26 0;
#X connect 42 0 75 0;
#X connect 43 0 66 0;
#X connect 43 0 75 0;
#X connect 48 0 34 0;
#X connect 54 0 53 0;
#X connect 54 0 72 0;
#X connect 55 1 54 0;
#X connect 55 2 54 1;
#X connect 57 0 20 0;
#X connect 58 1 23 0;
#X connect 58 2 25 1;
#X connect 58 3 23 1;
#X connect 59 0 33 0;
#X connect 61 0 60 0;
#X connect 62 0 63 0;
#X connect 63 0 65 0;
#X connect 65 0 64 0;
#X connect 65 0 34 0;
#X connect 66 0 62 0;
#X connect 72 0 27 0;
#X connect 73 0 57 0;
#X connect 75 0 66 0;
#X connect 75 0 26 0;
#X connect 75 0 73 0;
#X connect 78 0 76 0;
#X connect 79 0 77 0;
#X connect 80 0 81 0;
#X connect 82 0 80 0;
#X connect 82 0 11 0;
#X connect 83 0 11 0;
#X connect 87 0 2 0;
#X connect 88 0 5 0;
